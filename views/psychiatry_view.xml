<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

<!-- ################################################################################################################# -->

      <!-- Vista  tipo lista Paciente -->
              <record id="view_psychiatry_patient_tree" model="ir.ui.view">
                 <field name="inherit_id" ref="base.view_partner_tree" />
                  <field name="model">res.partner</field>
                  <field name="arch" type="xml">

                    <field name="parent_id" position="after">
                        <field name="patient" invisible="1"/>
                        <field name="insurer" invisible="1"/>
                    </field>

                  </field>
              </record>

      <!-- Vista  tipo formulario Paciente -->
              <record id="view_psychiatry_patient_form" model="ir.ui.view">
                 <field name="inherit_id" ref="base.view_partner_form" />
                  <field name="model">res.partner</field>
                  <field name="arch" type="xml">

                    <field name="email" position="after">
                      <field name="patient" string="Paciente"/>
                      <field name="insurer" string="EPS"/>
                    </field>

                  </field>
              </record>

      <!-- Definimos la accion para que abra el formulario -->
              <record model="ir.actions.act_window" id="action_psychiatry_patient">
                  <field name="name">Pacientes</field>
                  <field name="res_model">res.partner</field>
                  <field name="view_type">form</field>
                  <field name="view_mode">tree,form</field>
              </record>

      <!-- Definimos la accion del menu -->
              <menuitem name="Psychiatry" id="menu_psychiatry"  sequence="20"/>
              <menuitem name="HospitalizaciÃ³n" parent="menu_psychiatry" id="menu_view_psychiatry_hospitalization" sequence="10"/>
              <menuitem action="psychiatry.action_psychiatry_patient" id="psychiatry_partner" parent="menu_view_psychiatry_hospitalization" sequence="20"/>
              <menuitem name="Evaluaciones" parent="menu_psychiatry" id="menu_view_psychiatry_evaluations" sequence="20"/>
              <menuitem name="Settings" parent="menu_psychiatry" id="menu_view_psychiatry_settings" sequence="30"/>

<!-- ################################################################################################################# -->

      <!-- Vista  tipo lista respuestas whoqolbref y Scl90r-->
              <record model="ir.ui.view" id="view_psychiatry_whoqolbref_answer_tree">
                  <field name="name">Respuestas</field>
                  <field name="model">psychiatry.whoqolbref.answer</field>
                  <field name="arch" type="xml">
                      <tree string="Respuestas" >
                          <field name="name"/>
                          <field name="answer_scale"/>
                          <field name="measure"/>
                      </tree>
                  </field>
              </record>

      <!-- Vista  tipo formulario respuestas whoqolbref y Scl90r-->
              <record model="ir.ui.view" id="view_psychiatry_whoqolbref_answer_form">
                  <field name="name">Respuestas</field>
                  <field name="model">psychiatry.whoqolbref.answer</field>
                  <field name="arch" type="xml">
                      <form string="Respuestas">
                          <group>
                            <field name="name"/>
                            <field name="answer_scale"/>
                            <field name="measure"/>
                          </group>
                      </form>
                  </field>
              </record>

      <!-- Definimos la accion para que abra el formulario -->
              <record model="ir.actions.act_window" id="action_psychiatry_whoqolbref_answer">
                  <field name="name">Respuestas</field>
                  <field name="res_model">psychiatry.whoqolbref.answer</field>
                  <field name="view_type">form</field>
                  <field name="view_mode">tree,form</field>
              </record>

              <!-- Definimos la accion del menu -->
              <menuitem action="psychiatry.action_psychiatry_whoqolbref_answer" id="psychiatry_whoqolbref_answer" parent="menu_view_psychiatry_settings"/>

<!-- ################################################################################################################# -->

      <!-- Vista  tipo lista preguntas whoqolbref-->
              <record model="ir.ui.view" id="view_psychiatry_whoqolbref_question_tree">
                  <field name="name">Preguntas WHOQOL-BREF</field>
                  <field name="model">psychiatry.whoqolbref.question</field>
                  <field name="arch" type="xml">
                      <tree string="Preguntas WHOQOL-BREF" >
                          <field name="name"/>
                          <field name="category"/>
                          <field name="answer_scale"/>
                      </tree>
                  </field>
              </record>

      <!-- Vista  tipo formulario preguntas whoqolbref-->
              <record model="ir.ui.view" id="view_psychiatry_whoqolbref_question_form">
                  <field name="name">Preguntas WHOQOL-BREF</field>
                  <field name="model">psychiatry.whoqolbref.question</field>
                  <field name="arch" type="xml">
                      <form string="Preguntas WHOQOL-BREF">
                          <group>
                            <field name="name"/>
                            <field name="category"/>
                            <field name="answer_scale"/> -->
                          </group>
                      </form>
                  </field>
              </record>

      <!-- Definimos la accion para que abra el formulario -->
              <record model="ir.actions.act_window" id="action_psychiatry_whoqolbref_question">
                  <field name="name">Preguntas WHOQOL-BREF</field>
                  <field name="res_model">psychiatry.whoqolbref.question</field>
                  <field name="view_type">form</field>
                  <field name="view_mode">tree,form</field>
              </record>

      <!-- Definimos la accion del menu -->
              <menuitem action="psychiatry.action_psychiatry_whoqolbref_question" id="psychiatry_whoqolbref_question" parent="menu_view_psychiatry_settings"/>

<!-- ################################################################################################################# -->

      <!-- Vista  tipo lista evaluaciones whoqolbref -->
              <record model="ir.ui.view" id="view_psychiatry_whoqolbref_evaluation_tree">
                  <field name="name">Evaluaciones WHOQOL-BREF</field>
                  <field name="model">psychiatry.whoqolbref.evaluation</field>
                  <field name="arch" type="xml">
                      <tree string="Evaluaciones WHOQOL-BREF" >
                          <field name="name" readonly="True"/>
                          <field name="date_evaluation"/>
                          <field name="patient_id"/>
                      </tree>
                  </field>
              </record>

      <!-- Vista  tipo formulario evaluaciones whoqolbref -->
              <record model="ir.ui.view" id="view_psychiatry_whoqolbref_evaluation_form">
                  <field name="name">Evaluaciones WHOQOL-BREF</field>
                  <field name="model">psychiatry.whoqolbref.evaluation</field>
                  <field name="arch" type="xml">
                      <form string="Evaluaciones WHOQOL-BREF">
                          <group col="4" colspan="2">
                            <field name="date_evaluation"/>
                            <field name="name" readonly="True"/>
                            <field name="patient_id"/>
                          </group>
                          <separator string="Resultados"/>
                          <group col="4" colspan="2">
                            <field name="score_general"/>
                            <field name="score_fisica"/>
                            <field name="score_psicologica"/>
                            <field name="score_relaciones"/>
                            <field name="score_entorno"/>
                          </group>

                          <notebook colspan="2" col='2'>
                              <page string="WHOQOL-BREF">
                                  <field name="question_ids" nolabel="1" >
                                      <tree string="Preguntas" colors="blue:answer_id==False" editable="bottom" create="false" delete="false">
                                          <field name="evaluation_id" invisible="True"/>
                                          <field name="question_id" readonly="True"/>
                                          <field name="answer_scale" invisible="True"/>
                                          <field name="answer_id" domain="[('answer_scale', '=', answer_scale)]" widget="selection" />
                                          <field name="answer_measure" invisible="True"/>
                                      </tree>
                                      <form string="Preguntas">
                                          <group>
                                              <field name="evaluation_id" invisible="True"/>
                                              <field name="question_id" readonly="True"/>
                                              <field name="answer_scale" invisible="True"/>
                                              <field name="answer_id" domain="[('answer_scale', '=', answer_scale)]" widget="selection" />
                                              <field name="answer_measure" invisible="True"/>
                                          </group>
                                      </form>
                                  </field>
                              </page>
                          </notebook>

                      </form>
                  </field>
              </record>

      <!-- Definimos la accion para que abra el formulario -->
              <record model="ir.actions.act_window" id="action_psychiatry_whoqolbref_evaluation">
                  <field name="name">Evaluaciones WHOQOL-BREF</field>
                  <field name="res_model">psychiatry.whoqolbref.evaluation</field>
                  <field name="view_type">form</field>
                  <field name="view_mode">tree,form</field>
              </record>

      <!-- Definimos la accion del menu -->
              <menuitem action="psychiatry.action_psychiatry_whoqolbref_evaluation" id="psychiatry_whoqolbref_evaluation" parent="menu_view_psychiatry_evaluations"/>

<!-- ################################################################################################################# -->

      <!-- Vista  tipo lista preguntas Scl90r-->
              <record model="ir.ui.view" id="view_psychiatry_scl90r_question_tree">
                  <field name="name">Preguntas SCL-90-R</field>
                  <field name="model">psychiatry.scl90r.question</field>
                  <field name="arch" type="xml">
                      <tree string="Preguntas SCL-90-R" >
                          <field name="name"/>
                          <field name="category"/>
                          <field name="answer_scale"/>
                      </tree>
                  </field>
              </record>

      <!-- Vista  tipo formulario preguntas Scl90r-->
              <record model="ir.ui.view" id="view_psychiatry_scl90r_question_form">
                  <field name="name">Preguntas SCL-90-R</field>
                  <field name="model">psychiatry.scl90r.question</field>
                  <field name="arch" type="xml">
                      <form string="Preguntas SCL-90-R">
                          <group>
                            <field name="name"/>
                            <field name="category"/>
                            <field name="answer_scale"/> -->
                          </group>
                      </form>
                  </field>
              </record>

      <!-- Definimos la accion para que abra el formulario -->
              <record model="ir.actions.act_window" id="action_psychiatry_scl90r_question">
                  <field name="name">Preguntas SCL-90-R</field>
                  <field name="res_model">psychiatry.scl90r.question</field>
                  <field name="view_type">form</field>
                  <field name="view_mode">tree,form</field>
              </record>

      <!-- Definimos la accion del menu -->
              <menuitem action="psychiatry.action_psychiatry_scl90r_question" id="psychiatry_scl90r_question" parent="menu_view_psychiatry_settings"/>

<!-- ################################################################################################################# -->

      <!-- Vista  tipo lista evaluaciones Scl90r -->
              <record model="ir.ui.view" id="view_psychiatry_scl90r_evaluation_tree">
                  <field name="name">Evaluaciones SCL-90-R</field>
                  <field name="model">psychiatry.scl90r.evaluation</field>
                  <field name="arch" type="xml">
                      <tree string="Evaluaciones SCL-90-R" >
                          <field name="name" readonly="True"/>
                          <field name="date_evaluation"/>
                          <field name="patient_id"/>
                      </tree>
                  </field>
              </record>

      <!-- Vista  tipo formulario evaluaciones Scl90r -->
              <record model="ir.ui.view" id="view_psychiatry_scl90r_evaluation_form">
                  <field name="name">Evaluaciones SCL-90-R</field>
                  <field name="model">psychiatry.scl90r.evaluation</field>
                  <field name="arch" type="xml">
                      <form string="Evaluaciones SCL-90-R">
                          <group col="4" colspan="2">
                            <field name="date_evaluation"/>
                            <field name="name" readonly="True"/>
                            <field name="patient_id"/>
                          </group>

                          <notebook colspan="2" col='2'>
                              <page string="SCL-90-R">
                                  <field name="question_ids" nolabel="1" >
                                      <tree string="Preguntas" colors="blue:answer_id==False" editable="bottom" create="false" delete="false" limit="100">
                                          <field name="evaluation_id" invisible="True"/>
                                          <field name="question_id" readonly="True"/>
                                          <field name="answer_scale" invisible="True"/>
                                          <field name="answer_id" domain="[('answer_scale', '=', answer_scale)]" widget="selection" />
                                          <field name="answer_measure" invisible="True"/>
                                      </tree>
                                      <form string="Preguntas">
                                          <group>
                                              <field name="evaluation_id" invisible="True"/>
                                              <field name="question_id" readonly="True"/>
                                              <field name="answer_scale" invisible="True"/>
                                              <field name="answer_id" domain="[('answer_scale', '=', answer_scale)]" widget="selection" />
                                              <field name="answer_measure" invisible="True"/>
                                          </group>
                                      </form>
                                  </field>
                              </page>
                              <page string="Resultados">
                                <separator string="Dimensiones primarias"/>
                                    <group col="6" colspan="2">
                                        <field name="score_somatizaciones"/>
                                        <field name="score_obsesiones_compulsiones"/>
                                        <field name="score_sensitividad_interpersonal"/>
                                        <field name="score_depresion"/>
                                        <field name="score_ansiedad"/>
                                        <field name="score_hostilidad"/>
                                        <field name="score_ansiedad_fobica"/>
                                        <field name="score_ideacion_paranoide"/>
                                        <field name="score_psicoticismo"/>
                                        <field name="score_items_adicionales"/>
                                    </group>
                                <separator string="Ãndices globales de malestar psicolÃ³gico"/>
                                    <group col="6" colspan="2">
                                        <field name="score_severidad"/>
                                    </group>
                              </page>
                          </notebook>

                      </form>
                  </field>
              </record>

      <!-- Definimos la accion para que abra el formulario -->
              <record model="ir.actions.act_window" id="action_psychiatry_scl90r_evaluation">
                  <field name="name">Evaluaciones SCL-90-R</field>
                  <field name="res_model">psychiatry.scl90r.evaluation</field>
                  <field name="view_type">form</field>
                  <field name="view_mode">tree,form</field>
              </record>

      <!-- Definimos la accion del menu -->
              <menuitem action="psychiatry.action_psychiatry_scl90r_evaluation" id="psychiatry_scl90r_evaluation" parent="menu_view_psychiatry_evaluations"/>

      <!-- ################################################################################################################# -->

      <!-- Vista  tipo lista preguntas MoCa-->
              <record model="ir.ui.view" id="view_psychiatry_moca_question_tree">
                  <field name="name">Preguntas MoCa</field>
                  <field name="model">psychiatry.moca.question</field>
                  <field name="arch" type="xml">
                      <tree string="Preguntas MoCa" >
                          <field name="name"/>
                          <field name="category"/>
                          <field name="answer_scale"/>
                      </tree>
                  </field>
              </record>

      <!-- Vista  tipo formulario preguntas MoCa-->
              <record model="ir.ui.view" id="view_psychiatry_moca_question_form">
                  <field name="name">Preguntas MoCa</field>
                  <field name="model">psychiatry.moca.question</field>
                  <field name="arch" type="xml">
                      <form string="Preguntas MoCa">
                          <group>
                            <field name="name"/>
                            <field name="category"/>
                            <field name="answer_scale"/> -->
                          </group>
                      </form>
                  </field>
              </record>

      <!-- Definimos la accion para que abra el formulario -->
              <record model="ir.actions.act_window" id="action_psychiatry_moca_question">
                  <field name="name">Preguntas MoCa</field>
                  <field name="res_model">psychiatry.moca.question</field>
                  <field name="view_type">form</field>
                  <field name="view_mode">tree,form</field>
              </record>

      <!-- Definimos la accion del menu -->
              <menuitem action="psychiatry.action_psychiatry_moca_question" id="psychiatry_moca_question" parent="menu_view_psychiatry_settings"/>

<!-- ################################################################################################################# -->

      <!-- Vista  tipo lista evaluaciones MoCa -->
              <record model="ir.ui.view" id="view_psychiatry_moca_evaluation_tree">
                  <field name="name">Evaluaciones MoCa</field>
                  <field name="model">psychiatry.moca.evaluation</field>
                  <field name="arch" type="xml">
                      <tree string="Evaluaciones MoCa" >
                          <field name="name" readonly="True"/>
                          <field name="date_evaluation"/>
                          <field name="patient_id"/>
                      </tree>
                  </field>
              </record>

      <!-- Vista  tipo formulario evaluaciones MoCa -->
              <record model="ir.ui.view" id="view_psychiatry_moca_evaluation_form">
                  <field name="name">Evaluaciones MoCa</field>
                  <field name="model">psychiatry.moca.evaluation</field>
                  <field name="arch" type="xml">
                      <form string="Evaluaciones MoCa">
                          <group col="4" colspan="2">
                            <field name="date_evaluation"/>
                            <field name="name" readonly="True"/>
                            <field name="patient_id"/>
                          </group>

                          <notebook colspan="2" col='2'>
                              <page string="MoCa">
                                  <field name="question_ids" nolabel="1" >
                                      <tree string="Preguntas" colors="blue:answer_id==False" editable="bottom" create="false" delete="false">
                                          <field name="evaluation_id" invisible="True"/>
                                          <field name="question_id" readonly="True"/>
                                          <field name="answer_scale" invisible="True"/>
                                          <field name="answer_id" domain="[('answer_scale', '=', answer_scale)]" widget="selection" />
                                          <field name="answer_measure" invisible="True"/>
                                      </tree>
                                      <form string="Preguntas">
                                          <group>
                                              <field name="evaluation_id" invisible="True"/>
                                              <field name="question_id" readonly="True"/>
                                              <field name="answer_scale" invisible="True"/>
                                              <field name="answer_id" domain="[('answer_scale', '=', answer_scale)]" widget="selection" />
                                              <field name="answer_measure" invisible="True"/>
                                          </group>
                                      </form>
                                  </field>
                              </page>
                          </notebook>

                      </form>
                  </field>
              </record>

      <!-- Definimos la accion para que abra el formulario -->
              <record model="ir.actions.act_window" id="action_psychiatry_moca_evaluation">
                  <field name="name">Evaluaciones MoCa</field>
                  <field name="res_model">psychiatry.moca.evaluation</field>
                  <field name="view_type">form</field>
                  <field name="view_mode">tree,form</field>
              </record>

      <!-- Definimos la accion del menu -->
              <menuitem action="psychiatry.action_psychiatry_moca_evaluation" id="psychiatry_moca_evaluation" parent="menu_view_psychiatry_evaluations"/>

      <!-- ################################################################################################################# -->

      <!-- Vista  tipo lista Hospitalizaciones -->
              <record model="ir.ui.view" id="view_psychiatry_hospitalization_tree">
                  <field name="name">Hospitalizaciones</field>
                  <field name="model">psychiatry.hospitalization</field>
                  <field name="arch" type="xml">
                      <tree string="Hospitalizaciones" >
                          <field name="name" readonly="True"/>
                          <field name="date_in" string="Fecha de ingreso"/>
                          <field name="patient_id"/>
                          <field name="insurer_id"/>
                      </tree>
                  </field>
              </record>

      <!-- Vista tipo formulario Hospitalizaciones -->
              <record model="ir.ui.view" id="view_psychiatry_hospitalization_form">
                  <field name="name">Hospitalizaciones</field>
                  <field name="model">psychiatry.hospitalization</field>
                  <field name="arch" type="xml">
                      <form string="Hospitalizaciones">
                          <group col="4" colspan="2">
                            <field name="date_in" string="Fecha de ingreso"/>
                            <field name="name" readonly="True"/>
                            <field name="patient_id"/>
                            <field name="insurer_id"/>
                          </group>
                          <group col="4" colspan="2">
                            <field name="compromise_patient_in" widget="priority"/>
                            <field name="compromise_patient_out" widget="priority"/>
                          </group>
                          <group col="4" colspan="2">
                            <field name="compromise_clinic_in" widget="priority"/>
                            <field name="compromise_clinic_out" widget="priority"/>
                          </group>
                          <separator string="Egreso" colspan="4"/>
                          <group col="6" colspan="4">
                            <field name="date_out" string="Fecha de egreso"/>
                            <field name="type_out"/>
                            <field name="place_out"/>
                          </group>

                          <notebook colspan="2" col='2'>
                              <page string="SPA">
                                  <field name="spa_ids" nolabel="1" >
                                      <tree string="SPA" editable="bottom">
                                          <field name="hospitalization_id" invisible="True"/>
                                          <field name="spa_id"/>
                                      </tree>
                                      <form string="Evoluciones">
                                          <group>
                                            <field name="hospitalization_id" invisible="True"/>
                                            <field name="spa_id"/>
                                          </group>
                                      </form>
                                  </field>
                              </page>

                              <page string="Medicamentos">
                                <separator string="Medicamentos al ingreso" colspan="4"/>
                                  <field name="drug_ids_in" nolabel="1">
                                      <tree string="Medicamentos al ingreso" editable="bottom">
                                          <field name="hospitalization_id" invisible="True"/>
                                          <field name="drug_id"/>
                                      </tree>
                                      <form string="Medicamentos">
                                          <group>
                                            <field name="hospitalization_id" invisible="True"/>
                                            <field name="drug_id"/>
                                          </group>
                                      </form>
                                  </field>

                                <separator string="Medicamentos al egreso" colspan="4"/>
                                  <field name="drug_ids_out" nolabel="1">
                                      <tree string="Medicamentos al egreso" editable="bottom">
                                          <field name="hospitalization_id" invisible="True"/>
                                          <field name="drug_id"/>
                                      </tree>
                                      <form string="Medicamentos">
                                          <group>
                                            <field name="hospitalization_id" invisible="True"/>
                                            <field name="drug_id"/>
                                          </group>
                                      </form>
                                  </field>
                              </page>

                              <page string="PatologÃ­a">
                                <group>
                                  <field name="vts_id" string="VTS"/>
                                </group>
                                <separator string="Dx PsiquiatrÃ­a" colspan="4"/>
                                  <field name="diseases_psychiatry_ids" nolabel="1">
                                      <tree string="Dx PsiquiatrÃ­a" editable="bottom">
                                          <field name="hospitalization_id" invisible="True"/>
                                          <field name="diseases_id"/>
                                          <field name="diseases_type"/>
                                      </tree>
                                      <form string="Dx PsiquiatrÃ­a">
                                          <group>
                                            <field name="hospitalization_id" invisible="True"/>
                                            <field name="diseases_id"/>
                                            <field name="diseases_type"/>
                                          </group>
                                      </form>
                                  </field>

                                <separator string="Dx Otros" colspan="4"/>
                                  <field name="diseases_others_ids" nolabel="1">
                                      <tree string="Dx Otros" editable="bottom">
                                          <field name="hospitalization_id" invisible="True"/>
                                          <field name="diseases_id"/>
                                          <field name="diseases_type"/>
                                      </tree>
                                      <form string="Dx Otros">
                                          <group>
                                            <field name="hospitalization_id" invisible="True"/>
                                            <field name="diseases_id"/>
                                            <field name="diseases_type"/>
                                          </group>
                                      </form>
                                  </field>
                              </page>

                              <page string="Evoluciones">
                                  <field name="evolutions_ids" nolabel="1" >
                                      <tree string="Evoluciones" editable="bottom">
                                          <field name="hospitalization_id" invisible="True"/>
                                          <field name="date_evolution" string="Fecha"/>
                                          <field name="comment"/>
                                      </tree>
                                      <form string="Evoluciones">
                                          <group>
                                            <field name="hospitalization_id" invisible="True"/>
                                            <field name="date_evolution" string="Fecha"/>
                                            <field name="comment"/>
                                          </group>
                                      </form>
                                  </field>
                              </page>

                              <page string="Revista">
                                  <field name="review_ids" nolabel="1" >
                                      <tree string="Revista" editable="bottom">
                                          <field name="hospitalization_id" invisible="True"/>
                                          <field name="date_review" string="Fecha"/>
                                          <field name="comment"/>
                                      </tree>
                                      <form string="Revista">
                                          <group>
                                            <field name="hospitalization_id" invisible="True"/>
                                            <field name="date_review" string="Fecha"/>
                                            <field name="comment"/>
                                          </group>
                                      </form>
                                  </field>
                              </page>

                              <page string="Permisos">
                                  <field name="leave_ids" nolabel="1" >
                                      <tree string="Permisos" editable="bottom">
                                          <field name="hospitalization_id" invisible="True"/>
                                          <field name="date_leave" string="Fecha"/>
                                          <field name="leave_type"/>
                                      </tree>
                                      <form string="Permisos">
                                          <group>
                                            <field name="hospitalization_id" invisible="True"/>
                                            <field name="date_leave" string="Fecha"/>
                                            <field name="leave_type"/>
                                          </group>
                                      </form>
                                  </field>
                              </page>

                          </notebook>

                      </form>
                  </field>
              </record>

      <!-- Definimos la accion para que abra el formulario -->
              <record model="ir.actions.act_window" id="action_psychiatry_hospitalization">
                  <field name="name">Hospitalizaciones</field>
                  <field name="res_model">psychiatry.hospitalization</field>
                  <field name="view_type">form</field>
                  <field name="view_mode">tree,form</field>
              </record>

      <!-- Definimos la accion del menu -->
              <menuitem action="psychiatry.action_psychiatry_hospitalization" id="psychiatry_hospitalization" parent="menu_view_psychiatry_hospitalization" sequence="10"/>

      <!-- ################################################################################################################# -->

    </data>
</openerp>
